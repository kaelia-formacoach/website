---
import Layout from "../../layouts/Layout.astro";
---

<Layout>
  <!-- Header Section -->

  <!-- Header (sur-mesure) -->
<section
class="relative bg-cover bg-center h-screen text-white flex flex-col justify-center items-center"
style="background-image: url('/images/index/photo-accueil8.jpg');"
>
<div class="bg-black bg-opacity-50 absolute inset-0"></div>
<div class="relative z-10 text-center px-4">
  <h1 class="text-6xl md:text-7xl font-bold drop-shadow-lg">
    Construisez votre formation sur-mesure
  </h1>
  <!-- Le paragraphe a été supprimé de cette section -->
  <br />
  <a
    href="#customizer"
    class="relative inline-block font-semibold py-3 px-8 border-2 border-white text-white rounded-full transition-all duration-500 group hover:bg-white hover:text-purple-800 animate-intro drop-shadow-lg transform hover:scale-105"
  >
    <span>Entrez dans l'excellence</span>
    <span class="ml-2 group-hover:translate-x-1 transition-transform">→</span>
  </a>
</div>
</section>

  <section class="text-center py-10">
    <p class="text-gray-500 mt-2">
      <!-- KAELIA propose des offres de formations dans quatre domaines clés :
      juridique, RSE, numérique, Stratégie d’entreprise. Nos programmes allient
      expertise et pragmatisme pour répondre aux besoins actuels et accompagner
      durablement le développement des compétences. -->
    </p>

    <!-- Category Buttons -->
    <div class="flex flex-wrap justify-center mt-6 space-x-4">
      <button
        class="filter-button active bg-gradient-to-r from-blue-800 to-purple-600 text-white px-4 py-2 rounded-full focus:outline-none"
        data-category="all"
        aria-label="Afficher toutes les catégories"
      >
        <!-- On affiche l'icône de maison -->
        <img
          src="/images/index/pictogramme-maison.png"
          alt="Tous"
          class="h-7 w-7"
          aria-hidden="true"
        />
      </button>
      <button
        class="filter-button bg-gradient-to-r from-blue-800 to-purple-600 text-white px-4 py-2 rounded-full focus:outline-none"
        data-category="juridique"
      >
        Juridique
      </button>
      <button
        class="filter-button bg-gradient-to-r from-blue-800 to-purple-600 text-white px-4 py-2 rounded-full focus:outline-none"
        data-category="rse"
      >
        RSE
      </button>
      <button
        class="filter-button bg-gradient-to-r from-blue-800 to-purple-600 text-white px-4 py-2 rounded-full focus:outline-none"
        data-category="rh"
      >
        RH
      </button>
      <button
        class="filter-button bg-gradient-to-r from-blue-800 to-purple-600 text-white px-4 py-2 rounded-full focus:outline-none"
        data-category="Stratégie-d’entreprise"
      >
        Stratégie d’entreprise
      </button>
      <button
        class="filter-button bg-gradient-to-r from-blue-800 to-purple-600 text-white px-4 py-2 rounded-full focus:outline-none"
        data-category="Numérique"
      >
        Numérique
      </button>
    </div>
  </section>

  <!-- Training Cards Section -->
  <section class="container mx-auto py-10">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="course-list">
      <!-- Formation 1 -->
      <div
        class="course-card juridique Stratégie-d’entreprise flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="juridique Stratégie-d’entreprise"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/test2.jpg"
          loading="lazy"
          alt="Aspects juridiques de la création et de la reprise d'entreprise"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              <span class="text-black">
                Aspects juridiques de la création et de la reprise d'entreprise : <span class="text-[#66137c]">Droit et Entrepreneuriat</span>
              </span>
            </h5>
            <p class="text-gray-600 mt-2">2 000€ HT/personne</p>
            <p class="text-gray-700 mt-4">
              Maîtrisez les clés juridiques pour sécuriser et réussir votre projet de création ou de reprise d'entreprise !
            </p>
          </div>
          <a
            href="/formations/droit-et-entreprenariat"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
        <!-- Ajout du logo CPF agrandi -->
        <img
          src="/images/formation/Logo-officiel-cpf.png"
          alt="Eligible CPF"
          class="absolute bottom-3 right-3 w-16 h-16"
        />
      </div>

      <!-- Formation 2 -->
      <div
        class="course-card juridique flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="juridique"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/droit-des-contracts.jpg"
          loading="lazy"
          alt="Règles générales du droit des contrats"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              Règles générales du <span class="text-[#66137c]"
                >droit des contrats</span
              >
            </h5>
            <p class="text-gray-600 mt-2">3 900€ HT/personne</p>
            <p class="text-gray-700 mt-4">
              Pour rédiger, négocier et signer vos contrats en toute sérénité.
            </p>
          </div>
          <a
            href="/formations/droit-des-contrats"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
      </div>

      <!-- Formation 3 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="rse"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/ma-sante-physique-et-mentale.jpg"
          loading="lazy"
          alt="Améliorer ma santé physique et mentale au travail"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              Améliorer <span class="text-[#66137c]"
                >ma santé physique et mentale</span
              > au travail
            </h5>
            <p class="text-gray-600 mt-2">
              350€ HT/personne (minimum 3 personnes)
            </p>
            <p class="text-gray-700 mt-4">
              Atelier prévention santé au travail.
            </p>
          </div>
          <a
            href="/formations/ameliorer-sante-physique-et-mentale"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
      </div>

      <!-- Formation 4 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="rse"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/ma-pause-sante.jpg"
          loading="lazy"
          alt="Ma pause santé"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              Prévention santé au travail - <span class="text-[#66137c]">Ma pause santé</span>
            </h5>
            <p class="text-gray-600 mt-2">
              90€ HT/personne (minimum 3 personnes)
            </p>
            <p class="text-gray-700 mt-4">Adoptez les bons réflexes avec Ma Pause Santé !</p>
          </div>
          <a
            href="/formations/ma-pause-sante"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
      </div>

      <!-- Formation 5 -->
      <div
        class="course-card Numérique flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="Numérique"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/etre-visible-sur-le-net.jpg"
          loading="lazy"
          alt="Être visible sur le net"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              Être <span class="text-[#66137c]">visible</span> sur le net
            </h5>
            <p class="text-gray-600 mt-2">À partir de 600€ HT/personne</p>
            <p class="text-gray-700 mt-4">
              les enjeux de la communication et de l'utilisation des réseaux sociaux.
            </p>
          </div>
          <a
            href="/formations/etre-visible-sur-le-net"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
        <!-- Ajout du logo CPF agrandi -->
      </div>

      <!-- Formation 6 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="Stratégie-d’entreprise"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/je-me-lance.jpg"
          loading="lazy"
          alt="JE ME LANCE  Accompagnement à la création / reprise d’entreprise ou prise d’une fonction de management (7 formules)"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              <span class="text-[#66137c]">Je me lance</span> - Accompagnement à la création, reprise d’entreprise ou
              prise d’une fonction de management
            </h5>
            <p class="text-gray-600 mt-2">À partir de 500€ HT/personne</p>
            <p class="text-gray-700 mt-4">Apprenez et renforcez vos connaissances entrepreneuriales et managériales.</p>
          </div>
          <a
            href="/formations/je-me-lance"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
        <!-- Ajout du logo CPF agrandi -->
        <img
          src="/images/formation/Logo-officiel-cpf.png"
          alt="Eligible CPF"
          class="absolute bottom-3 right-3 w-16 h-16"
        />
      </div>

      <!-- Formation 7 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="rse"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/harcelement-moral-et-sexuel.jpg"
          loading="lazy"
          alt="Harcèlement moral et sexuel en entreprise"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              <span class="text-[#66137c]">Harcèlement moral et sexuel</span> en entreprise
            </h5>
            <p class="text-gray-600 mt-2">13 900€ HT</p>
            <p class="text-gray-700 mt-4">
              Prévenir – Anticiper – Agir 
            </p>
          </div>
          <a
            href="/formations/harcelement-moral-et-sexuel-en-entreprise"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
        <!-- Ajout du logo CPF agrandi -->
      </div>

      <!-- Formation 8 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="rse"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/RH.jpg"
          loading="lazy"
          alt="RH sur mesure"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold"><span class="text-[#66137c]">RH</span> sur mesure</h5>
            <p class="text-gray-600 mt-2">À partir de 360€ HT/personne</p>
            <p class="text-gray-700 mt-4">Des solutions RH personnalisées pour booster votre réussite et celle de vos équipes.</p>
          </div>
          <a
            href="/formations/rh-sur-mesure"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
        <!-- Ajout du logo CPF agrandi -->
      </div>

      <!-- Formation 9 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="rse"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/prise-de-parole.jpg"
          loading="lazy"
          alt="Prise de parole en public avec impact"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              <span class="text-[#66137c]">Prise de parole</span> en public avec impact
            </h5>
            <p class="text-gray-600 mt-2">1 300 € HT/personne</p>
            <p class="text-gray-700 mt-4">
              Améliorer son impact à l'oral.
            </p>
          </div>
          <a
            href="/formations/prise-de-parole-en-public-avec-impact"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
        <!-- Ajout du logo CPF agrandi -->
      </div>

      <!-- Formation 10 -->
      <div
        class="course-card rse flex flex-row bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100"
        data-category="Stratégie-d’entreprise"
      >
        <img
          class="object-cover w-48 h-48 rounded-l-lg"
          src="/images/formation/je-decolle.jpg"
          loading="lazy"
          alt="JE ME LANCE  Accompagnement à la création / reprise d’entreprise ou prise d’une fonction de management (7 formules)"
        />
        <div class="p-4 flex flex-col justify-between">
          <div>
            <h5 class="text-2xl font-bold">
              <span class="text-[#66137c]">Je décolle</span> - Accompagnement pour structurer et développer votre activité
            </h5>
            <p class="text-gray-600 mt-2">À partir de 1 200€ HT/personne</p>
            <p class="text-gray-700 mt-4">Augmentez la rentabilité de votre activité pour faire face aux enjeux actuels.</p>
          </div>
          <a
            href="/formations/je-me-lance"
            class="text-[#66137c] mt-4 block font-semibold hover:underline"
          >
            En savoir plus
          </a>
        </div>
      </div>
    </div>

    <!-- Client-side Script -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const buttons =
          document.querySelectorAll<HTMLButtonElement>(".filter-button");
        const courses = document.querySelectorAll<HTMLElement>(".course-card");

        buttons.forEach((button) => {
          button.addEventListener("click", (event: Event) => {
            const target = event.currentTarget as HTMLButtonElement | null;

            if (!target) {
              console.warn("Le bouton cliqué est null.");
              return;
            }

            const category = target.getAttribute("data-category") || "";

            // Retirer la classe active de tous les boutons
            buttons.forEach((btn) => btn.classList.remove("active"));

            // Ajouter la classe active au bouton sélectionné
            target.classList.add("active");

            if (category === "all") {
              // Afficher toutes les cartes
              courses.forEach((course) => {
                course.style.display = "flex";
              });
            } else {
              // Masquer toutes les cartes
              courses.forEach((course) => {
                course.style.display = "none";
              });

              // Afficher les cartes correspondant à la catégorie sélectionnée
              courses.forEach((course) => {
                const courseCategories =
                  course.getAttribute("data-category")?.split(" ") || [];
                if (courseCategories.includes(category)) {
                  course.style.display = "flex";
                }
              });
            }
          });
        });

        // Afficher toutes les cartes par défaut
        courses.forEach((course) => {
          course.style.display = "flex";
        });
      });
    </script>

    <!-- Optional Styles for Active Button -->
    <style>
      /* Style des boutons par défaut */
      .filter-button {
        transition:
          transform 0.3s ease,
          font-weight 0.3s ease;
      }

      /* Style du bouton actif */
      .filter-button.active {
        transform: scale(1.1);
        font-weight: bold;
        background-image: linear-gradient(to right, #8b5cf6, #ec4899);
      }

      /* Ajustements supplémentaires pour les cartes */
      .course-card img {
        /* Assurez-vous que les images occupent toute la hauteur disponible */
        height: 100%;
        object-fit: cover;
      }

      .course-card h5 {
        /* Limiter le nombre de lignes si nécessaire */
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      /* Responsivité pour les petites écrans */
      @media (max-width: 768px) {
        .course-card {
          flex-direction: column;
          align-items: center;
        }

        .course-card img {
          width: 100%;
          height: auto;
          border-radius: 8px 8px 0 0;
        }

        .course-card div {
          text-align: center;
        }
      }
      .course-card {
        position: relative;
      }

      .course-card img[alt="Eligible CPF"] {
        position: absolute;
        bottom: 12px; /* Ajustez selon votre besoin */
        right: 12px; /* Ajustez selon votre besoin */
        width: 64px; /* Taille agrandie */
        height: 64px; /* Taille agrandie */
        object-fit: contain;
      }
    </style>
  </section>
</Layout>
