---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <!-- Section d'introduction avec l'image de fond agrandie et animation synchronisée -->
  <section
    class="relative bg-cover bg-center h-[88vh]"
    style="background-image: url('/images/index/photo-accueil.webp');"
  >
    <div class="absolute inset-0 bg-black opacity-50"></div>
    <div
      class="relative z-10 flex flex-col items-center justify-center h-full text-center text-white px-4"
    >
      <!-- Titre avec effet de zoom et montée simultanée -->
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4 animate-intro">
        L'accompagnement de proximité
      </h1>

      <!-- Paragraphe avec le même effet de montée simultanée -->
      <p
        class="text-lg md:text-xl lg:text-2xl max-w-3xl mx-auto mb-6 animate-intro"
      >
        Chez Kaelia, nous mettons à votre disposition des formations sur mesure,
        conçues pour répondre aux besoins du marché et certifiées Qualiopi. Que
        vous soyez un professionnel en reconversion ou un salarié souhaitant
        renforcer ses compétences, notre équipe vous accompagne tout au long de
        votre parcours.
      </p>

      <!-- Updated Contact Button in the Introduction Section -->
      <a
        href="/contact"
        class="relative inline-block font-semibold py-3 px-8 border-2 border-white text-white rounded-full transition-colors duration-300 group hover:bg-white hover:text-purple-800 animate-intro"
      >
        <span>Contactez-nous</span>
        <span class="ml-2 group-hover:translate-x-1 transition-transform"
          >→</span
        >
      </a>
    </div>
  </section>

  <!-- Section "Pourquoi choisir Kaelia ?" sans les icônes circulaires ou carrés -->
  <section class="py-20">
    <div class="container mx-auto text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-10">
        Pourquoi choisir <span class="text-purple-600">Kaelia</span> ?
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Premier élément : L'humain au cœur de nos actions -->
        <div class="text-center">
          <h3 class="text-base md:text-lg font-semibold text-purple-700 mb-2">
            L'humain au cœur de nos actions
          </h3>
          <p class="text-sm md:text-base text-gray-700">
            Nous croyons en l'importance de créer des relations durables avec
            nos clients et de les accompagner dans leur réussite.
          </p>
        </div>

        <!-- Deuxième élément : Des experts à votre écoute -->
        <div class="text-center">
          <h3 class="text-base md:text-lg font-semibold text-purple-700 mb-2">
            Des experts à votre écoute
          </h3>
          <p class="text-sm md:text-base text-gray-700">
            Notre équipe est composée de professionnels expérimentés et
            passionnés, chacun apportant son expertise spécifique.
          </p>
        </div>

        <!-- Troisième élément : Un accompagnement personnalisé -->
        <div class="text-center">
          <h3 class="text-base md:text-lg font-semibold text-purple-700 mb-2">
            Un accompagnement personnalisé
          </h3>
          <p class="text-sm md:text-base text-gray-700">
            Nous sommes à vos côtés à chaque étape de votre projet.
          </p>
        </div>
      </div>

      <!-- Bouton d'appel à l'action avec dégradé -->
      <div class="mt-10">
        <!-- Updated Call-to-Action Button in the Why Choose Us Section -->
        <!-- Updated Call-to-Action Button in the Why Choose Us Section on White Background -->
        <a
          href="/formations"
          class="relative inline-block font-semibold py-3 px-8 border-2 border-purple-800 text-purple-800 rounded-full transition-colors duration-300 group hover:bg-purple-800 hover:text-white text-lg"
        >
          <span>Commencer votre formation</span>
          <span class="ml-2 group-hover:translate-x-1 transition-transform"
            >→</span
          >
        </a>
      </div>
    </div>
  </section>

  <!-- Section "Les 4 étapes de notre accompagnement" avec dégradé -->
  <section
    class="py-20 text-white"
    style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
  >
    <div class="container mx-auto text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        Les 4 étapes de notre <span class="text-pink-300">accompagnement</span>
      </h2>
      <p class="text-base md:text-lg mb-10">
        De l'identification de vos besoins à la certification de vos
        compétences. Prêt à transformer votre carrière ? Contactez-nous dès
        maintenant !
      </p>

      <!-- Ligne décorative avec un carré au centre -->
      <div class="flex justify-center items-center mb-12">
        <div class="w-1/4 border-t border-white"></div>
        <div class="mx-2 h-4 w-4 bg-white"></div>
        <div class="w-1/4 border-t border-white"></div>
      </div>

      <!-- Grille des étapes -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <!-- Étapes 1 à 4 avec bordures blanches -->
        <div
          class="border border-white rounded-lg p-6 transition transform hover:scale-105"
        >
          <h3 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">01</h3>
          <h4 class="text-lg font-semibold mb-2">Contact</h4>
          <p class="text-sm">
            Nous échangeons pour vous aider à comprendre votre besoin.
          </p>
        </div>
        <div
          class="border border-white rounded-lg p-6 transition transform hover:scale-105"
        >
          <h3 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">02</h3>
          <h4 class="text-lg font-semibold mb-2">Construction</h4>
          <p class="text-sm">
            Nous vous aidons à créer une formation sur-mesure.
          </p>
        </div>
        <div
          class="border border-white rounded-lg p-6 transition transform hover:scale-105"
        >
          <h3 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">03</h3>
          <h4 class="text-lg font-semibold mb-2">Apprentissage</h4>
          <p class="text-sm">
            Vous vous formez avec des professionnels qualifiés.
          </p>
        </div>
        <div
          class="border border-white rounded-lg p-6 transition transform hover:scale-105"
        >
          <h3 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">04</h3>
          <h4 class="text-lg font-semibold mb-2">Bilan</h4>
          <p class="text-sm">
            Nous débriefons sur l'ensemble de la formation et de vos acquis.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section "KAELIA en quelques chiffres..." with Responsive Adjustments for Mobile -->
  <section class="py-20 bg-white text-center">
    <div class="container mx-auto max-w-5xl">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">
        <span class="text-purple-600">KAELIA</span> en quelques chiffres...
      </h2>
      <p class="text-base md:text-lg text-gray-700 max-w-2xl mx-auto mb-12">
        Votre succès, notre priorité. Devenez l'expert que vous avez toujours
        rêvé d'être grâce à nos formations personnalisées et à l'accompagnement
        de nos coachs expérimentés.
      </p>

      <!-- Responsive Grid Layout for Blocks -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <!-- Large Main Block -->
        <div
          class="text-white p-6 md:p-10 rounded-lg flex flex-col justify-center col-span-1 md:col-span-2 md:row-span-2"
          style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
        >
          <h3 class="text-5xl md:text-6xl font-bold mb-2 md:mb-4">4,9/5</h3>
          <p class="text-lg md:text-xl font-semibold">
            <span class="text-pink-300">Satisfaction</span><br /><span
              class="text-white">Client</span
            >
          </p>
        </div>

        <!-- Smaller Top-Right Block -->
        <div
          class="text-white p-6 md:p-8 rounded-lg flex flex-col justify-center"
          style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
        >
          <h3 class="text-4xl md:text-5xl font-bold mb-2">0%</h3>
          <p class="text-lg font-semibold">
            <span class="text-pink-300">Taux</span><br /><span
              class="text-white">d'Absentéisme</span
            >
          </p>
        </div>

        <!-- Smaller Center-Right Block -->
        <div
          class="text-white p-6 md:p-8 rounded-lg flex flex-col justify-center"
          style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
        >
          <h3 class="text-4xl md:text-5xl font-bold mb-2">35</h3>
          <p class="text-lg font-semibold">
            <span class="text-pink-300">Clients</span><br /><span
              class="text-white">Formés</span
            >
          </p>
        </div>

        <!-- Smaller Bottom-Right Block Spanning Across Columns -->
        <div
          class="text-white p-6 md:p-8 rounded-lg flex flex-col justify-center col-span-1 md:col-span-2"
          style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
        >
          <h3 class="text-4xl md:text-5xl font-bold mb-2">5/5</h3>
          <p class="text-lg font-semibold">
            <span class="text-pink-300">Satisfaction</span><br /><span
              class="text-white">Google</span
            >
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section "Ils nous font confiance" -->
  <section class="py-20 bg-white text-center">
    <div class="container mx-auto">
      <h2 class="text-3xl md:text-4xl font-bold mb-2">
        Ils nous font <span class="text-purple-600">confiance</span>
      </h2>
      <p class="text-base md:text-lg text-gray-700 max-w-xl mx-auto mb-10">
        La confiance de nos partenaires, notre plus belle récompense.
      </p>
      <div class="logo-carousel">
        <div class="logo-track">
          <div class="logo-item">
            <img
              loading="lazy"
              src="/images/index/logo-partenaire-IUT.webp"
              alt="IUT Lumière"
              class="h-16 md:h-20 lg:h-24"
            />
          </div>
          <div class="logo-item">
            <img
              loading="lazy"
              src="/images/index/logo-partenaire-webkonseil.webp"
              alt="Webkonseil"
              class="h-16 md:h-20 lg:h-24"
            />
          </div>
          <div class="logo-item">
            <img
              loading="lazy"
              src="/images/index/logo-partenaire-opus.webp"
              alt="Opus Formation"
              class="h-16 md:h-20 lg:h-24"
            />
          </div>
          <div class="logo-item">
            <img
              loading="lazy"
              src="/images/index/logo-partenaire-webylab.webp"
              alt="Webylab"
              class="h-16 md:h-20 lg:h-24"
            />
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Animation de montée et de fondu simultanée pour tous les éléments de la section d'introduction */
  @keyframes introAnimation {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-intro {
    animation: introAnimation 1s ease-out forwards;
  }

  /* Style de base pour le carrousel */
  .logo-carousel {
    overflow: hidden;
    position: relative;
    width: 100%;
  }

  .logo-track {
    display: flex;
    width: max-content;
  }

  .logo-item {
    flex: 0 0 auto;
    padding: 0 1rem;
  }

  /* Suppression de la hauteur fixe des images */
  .logo-item img {
    filter: grayscale(100%);
    transition: filter 0.3s;
  }

  .logo-item:hover img {
    filter: grayscale(0%);
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const trackElement = document.querySelector(
      ".logo-track"
    ) as HTMLElement | null;
    const items = document.querySelectorAll(".logo-item");

    if (!trackElement) {
      console.error("L'élément avec la classe .logo-track n'a pas été trouvé.");
      return;
    }

    const track = trackElement;

    // Cloner les éléments pour permettre un défilement infini
    function cloneItems() {
      const parent = track.parentElement as HTMLElement | null;
      if (!parent) {
        console.error("Le parent de .logo-track n'a pas été trouvé.");
        return;
      }

      const carouselWidth = parent.offsetWidth;

      while (track.scrollWidth < carouselWidth * 2) {
        items.forEach((item) => {
          const clone = item.cloneNode(true) as HTMLElement;
          track.appendChild(clone);
        });
      }
    }

    cloneItems();

    let scrollPosition = 0;

    function animate() {
      scrollPosition += 1; // Vitesse de défilement
      if (scrollPosition >= track.scrollWidth / 2) {
        scrollPosition = 0;
      }
      track.style.transform = `translateX(-${scrollPosition}px)`;
      requestAnimationFrame(animate);
    }

    animate();
  });
</script>
