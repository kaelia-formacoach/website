---
import Layout from "../layouts/Layout.astro";
---

<Layout isHome={true}>
  <!-- Conteneur principal avec le scroll snapping -->
  <div class="smooth-scroll">
    <!-- Section d'introduction avec l'image de fond en full page -->
    <section
      class="full-page-section snap-start snap-always relative bg-cover h-screen flex items-center justify-center section-wave animate-on-scroll"
      style="background-image: url('/images/index/photo-accueil5.jpg'); background-position: center 20%;"
    >
      <div class="absolute inset-0 bg-black opacity-50"></div>
      <div class="relative z-10 text-center text-white px-4">
        <h1
          class="text-6xl md:text-7xl lg:text-8xl font-bold mb-4 animate-intro drop-shadow-lg"
        >
        Formation et Coaching
        <br />
        Sur-mesure
        </h1>
        <!-- <p
          class="text-xl md:text-xl lg:text-xl max-w-3xl mx-auto mb-6 animate-intro drop-shadow-md text-justify"
        >
        Chez Kaelia, l’humain et l’excellence professionnelle sont au cœur de notre démarche.

 

        Nous vous offrons un accompagnement sur mesure tout au long de votre parcours professionnel afin de répondre à vos besoins spécifiques et ceux de l’entreprise.
        
        Nous avons pour objectif de répondre à l’obligation légale de formation en proposant des solutions innovantes pour développer vos compétences sans contraintes financières.
        
        Kaelia est certifiée Qualiopi et éligible aux financements publics.
        
         
        
        Kaelia propose des solutions taillées sur mesure pour répondre aux enjeux actuels
        
        avec une équipe d’experts passionnés dévoués à délivrer un accompagnement qui donne du sens et vers l’excellence. Nous vous guidons à chaque étape pour vous aider à atteindre vos objectifs et révéler les potentiels.
        
         
        
        Élevez votre carrière avec Kaelia, et aidez votre entreprise à passer un cap pour réussir dans un monde en constante évolution.
        </p> -->
        <a
  href="/contact"
  class="relative inline-block font-semibold py-3 px-8 border-2 border-white text-white rounded-full transition-all duration-500 group hover:bg-white hover:text-purple-800 animate-intro drop-shadow-lg transform hover:scale-105"
>
  <span>Contactez-nous</span>
  <span class="ml-2 group-hover:translate-x-1 transition-transform">→</span>
</a>
      </div>
    </section>

  </section>
  <section>
    <!-- Section "Pourquoi choisir Kaelia ?" en full page -->
    <section
      class="full-page-section snap-start snap-always relative h-screen flex flex-col justify-center items-center text-center py-0 bg-white section-angle animate-on-scroll"
      style="background-image: url('/images/index/liserai_quorum_left.svg'); background-repeat: no-repeat; background-size:auto;"
    >
      <div class="container mx-auto">
        <h2 class="text-5xl md:text-6xl font-bold mb-10 drop-shadow-md">
          Chez <span class="text-purple-600">Kaelia</span>, l'humain et l'excellence professionnelle sont au coeur de notre démarche.
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-10 mt-10">
          <div class="text-center">
            <h3 class="text-xl md:text-3xl font-semibold text-purple-700 mb-2">
              Un accompagnement personnalisé
            </h3>
            <p class="text-base md:text-lg text-gray-700">
              Votre projet est unique, et notre accompagnement l’est tout
              autant. Nous vous soutenons à chaque étape, en
              adaptant le contenu et le rythme pour répondre à vos
              attentes. De l'évaluation de vos besoins jusqu’à la
              validation de vos acquis, vous bénéficiez d’un suivi personnalisé.
            </p>
          </div>
          <div class="text-center">
            <h3 class="text-xl md:text-3xl font-semibold text-purple-700 mb-2">
              Des experts à votre écoute
            </h3>
            <p class="text-base md:text-lg text-gray-700">
              Notre équipe est composée de professionnels qualifiés
              et passionnés par le développement des compétences. Grâce à leur
              expertise pointue dans des domaines variés, ils vous guident avec
              attention et vous apportent des solutions adaptées à votre
              parcours et à vos défis professionnels.
            </p>
          </div>
          <div class="text-center">
            <h3 class="text-xl md:text-3xl font-semibold text-purple-700 mb-2">
              L'humain au cœur de nos actions
            </h3>
            <p class="text-base md:text-lg text-gray-700">
              Nous croyons en l’importance d’une relation de confiance et de
              proximité avec nos clients. Notre priorité est de comprendre vos
              besoins et vos aspirations, pour créer des relations durables et
              vous accompagner efficacement vers la réussite de vos objectifs
              professionnels.
            </p>
          </div>
        </div>
        <a
          href="/formations/nos-formations"
          class="relative inline-block font-semibold py-3 px-8 border-2 border-purple-800 text-purple-800 rounded-full transition-all duration-500 hover:bg-purple-800 hover:text-white text-lg drop-shadow-lg transform hover:scale-105"
        >
          <span>Entrez dans l'excellence</span>
          <span class="ml-2 group-hover:translate-x-1 transition-transform"
            >→</span
          >
        </a>
      </div>
    </section>

    <!-- Section "Les 4 étapes de notre accompagnement" en full page avec dégradé -->
    <section
      class="full-page-section snap-start snap-always relative h-screen flex flex-col justify-center items-center text-center text-white section-wave animate-on-scroll"
      style="background: linear-gradient(90deg, #6b46c1, #4a90e2);"
    >
      <div class="container mx-auto">
        <h2 class="text-5xl md:text-6xl font-bold mb-4 drop-shadow-lg">
          Les étapes de notre accompagnement
        </h2>
        <p class="text-lg md:text-xl mb-10 drop-shadow-md">
          Chez Kaelia, nous rendons la formation accessible à tous.
          Des solutions de financement existent (OPCO, FIF PL, CPF ...) : nous vous accompagnons.
          <!-- grâce aux aides publiques (OPCO, FIF PL ...) et au Compte Personnel de Formation (CPF). Ce dispositif vous
          permet de financer votre parcours d’apprentissage sans frais
          supplémentaires, afin de développer vos compétences tout en respectant
          vos objectifs professionnels. -->
        </p>
        <div class="flex justify-center items-center mb-12">
          <div class="w-1/4 border-t border-white"></div>
          <div class="mx-2 h-4 w-4 bg-white"></div>
          <div class="w-1/4 border-t border-white"></div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div
            class="etape border border-white rounded-lg p-6 transition transform hover:scale-105 drop-shadow-md bg-opacity-25 animate-fade-in-on-scroll"
          >
            <h3
              class="etape-chiffre text-4xl md:text-5xl lg:text-6xl font-bold mb-2"
            >
              1
            </h3>
            <h4 class="text-3xl text-black font-semibold mb-2">
              Analyse des besoins
            </h4>
            <p class="text-base">
              Accédez à une formation sur mesure qui s’adapte à vos contraintes
              et objectifs professionnels. Nous co-créons un programme de
              formation unique, entièrement éligible au CPF, pour que chaque
              module soit pertinent et valorise votre profil professionnel.
            </p>
          </div>
          <div
            class="etape border border-white rounded-lg p-6 transition transform hover:scale-105 drop-shadow-md bg-opacity-25 animate-fade-in-on-scroll"
          >
            <h3
              class="etape-chiffre text-4xl md:text-5xl lg:text-6xl font-bold mb-2"
            >
              2
            </h3>
            <h4 class="text-3xl text-black font-semibold mb-2">
              Conception du plan d'accompagnement
            </h4>
            <p class="text-base">
              Accédez à une formation sur mesure qui s’adapte à vos contraintes
              et objectifs professionnels. Nous co-créons un programme de
              formation unique, entièrement éligible au CPF, pour que chaque
              module soit pertinent et valorise votre profil professionnel.
            </p>
          </div>
          <div
            class="etape border border-white rounded-lg p-6 transition transform hover:scale-105 drop-shadow-md bg-opacity-25 animate-fade-in-on-scroll"
          >
            <h3
              class="etape-chiffre text-4xl md:text-5xl lg:text-6xl font-bold mb-2"
            >
              3
            </h3>
            <h4 class="text-3xl text-black font-semibold mb-2">
              Apprendre et se former
            </h4>
            <p class="text-base">
              Nos formateurs experts vous accompagnent à chaque étape. Profitez
              d’un financement CPF pour suivre des sessions enrichissantes,
              alliant théorie et pratique, et conçues pour vous permettre
              d'atteindre une maîtrise complète des compétences.
            </p>
          </div>
          <div
            class="etape border border-white rounded-lg p-6 transition transform hover:scale-105 drop-shadow-md bg-opacity-25 animate-fade-in-on-scroll"
          >
            <h3
              class="etape-chiffre text-4xl md:text-5xl lg:text-6xl font-bold mb-2"
            >
              4
            </h3>
            <h4 class="text-3xl text-black font-semibold mb-2">
              Bilan et suvi personnalisé
            </h4>
            <p class="text-base">
              À la fin de la formation, nous effectuons un bilan complet de vos
              acquis pour vous aider à mesurer vos progrès. Ce suivi
              personnalisé vous permet de visualiser votre évolution, de
              renforcer les points nécessaires et de valider officiellement vos
              nouvelles compétences.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section "KAELIA en quelques chiffres..." en full page -->
    <section
      class="full-page-section snap-start snap-always h-screen flex flex-col justify-center items-center bg-white text-center animate-on-scroll"
      style="background-image: url('/images/index/liserai_quorum_right4.svg'); background-repeat: no-repeat; background-size: 100% auto;"
    >
      <div class="container mx-auto max-w-5xl">
        <h2 class="text-5xl md:text-6xl font-bold mb-6 drop-shadow-md">
          KAELIA en quelques chiffres...
        </h2>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto mb-12">
          Votre succès, notre priorité. Devenez l'expert que vous avez toujours
          rêvé d'être...
        </p>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div
            class="text-white p-6 md:p-10 rounded-lg flex flex-col justify-center col-span-1 md:col-span-2 md:row-span-2 drop-shadow-lg animate-fade-in-on-scroll"
            style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
          >
            <h3 class="text-6xl md:text-7xl font-bold mb-2 md:mb-4">4,9/5</h3>
            <p class="text-4xl font-semibold">
              <span class="text-pink-300">Satisfaction</span><br /><span
                class="text-white">Client</span
              >
            </p>
          </div>
          <div
            class="text-white p-6 md:p-8 rounded-lg flex flex-col justify-center drop-shadow-lg animate-fade-in-on-scroll"
            style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
          >
            <h3 class="text-5xl font-bold mb-2">0%</h3>
            <p class="text-2xl font-semibold">
              <span class="text-pink-300">Taux</span><br /><span
                class="text-white">d'Absentéisme</span
              >
            </p>
          </div>
          <div
            class="text-white p-6 md:p-8 rounded-lg flex flex-col justify-center drop-shadow-lg animate-fade-in-on-scroll"
            style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
          >
            <h3 class="text-5xl font-bold mb-2">35</h3>
            <p class="text-2xl font-semibold">
              <span class="text-pink-300">Clients</span><br /><span
                class="text-white">Formés</span
              >
            </p>
          </div>
          <div
            class="text-white p-6 md:p-8 rounded-lg flex flex-col justify-center col-span-1 md:col-span-2 drop-shadow-lg animate-fade-in-on-scroll"
            style="background: linear-gradient(90deg, #004aad, #cb6ce6);"
          >
            <h3 class="text-5xl font-bold mb-2">5/5</h3>
            <p class="text-2xl font-semibold">
              <span class="text-pink-300">Avis</span><br /><span
                class="text-white">Google</span
              >
            </p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section "Ils nous font confiance" -->
    <section
      class="full-page-section snap-start snap-always flex flex-col h-screen items-center bg-white text-center animate-on-scroll"
      style="background-image: url('/images/index/liserai_quorum_left.svg'); background-repeat: no-repeat; background-size: 100% auto;"
    >
      <div class="container mx-auto py-10">
        <h2 class="text-4xl md:text-5xl font-bold mb-2 drop-shadow-md">
          Ils nous font <span class="text-purple-600">confiance</span>
        </h2>
        <p class="text-base md:text-lg text-gray-700 max-w-xl mx-auto mb-10">
          La confiance de nos partenaires, notre plus belle récompense.
        </p>

        <!-- Carrousel en haut avec une marge inférieure importante -->
        <div class="logo-carousel mb-32">
          <div class="logo-track">
            <div class="logo-item">
              <img
                loading="lazy"
                src="/images/index/logo-partenaire-IUT.webp"
                alt="IUT Lumière"
                class="h-16 md:h-20 lg:h-24 transition-transform"
              />
            </div>
            <div class="logo-item">
              <img
                loading="lazy"
                src="/images/index/logo-partenaire-webkonseil.webp"
                alt="Webkonseil"
                class="h-16 md:h-20 lg:h-24 transition-transform"
              />
            </div>
            <div class="logo-item">
              <img
                loading="lazy"
                src="/images/index/logo-partenaire-opus.webp"
                alt="Opus Formation"
                class="h-16 md:h-20 lg:h-24 transition-transform"
              />
            </div>
            <div class="logo-item">
              <img
                loading="lazy"
                src="/images/index/logo-partenaire-webylab.webp"
                alt="Webylab"
                class="h-16 md:h-20 lg:h-24 transition-transform"
              />
            </div>

            <!-- Nouveaux logos ajoutés -->
    <div class="logo-item">
      <img
        loading="lazy"
        src="/images/index/logo-partenaire-quorum.png"
        alt="Quorum"
        class="h-16 md:h-20 lg:h-24 transition-transform"
      />
    </div>
    <div class="logo-item">
      <img
        loading="lazy"
        src="/images/index/logo-partenaire-CNR.png"
        alt="CNR"
        class="h-16 md:h-20 lg:h-24 transition-transform"
      />
    </div>
    <div class="logo-item">
      <img
        loading="lazy"
        src="/images/index/logo-partenaire-Arlim.png"
        alt="Arlim"
        class="h-16 md:h-20 lg:h-24 transition-transform"
      />
    </div>
    <div class="logo-item">
      <img
        loading="lazy"
        src="/images/index/logo-partenaire-CRMT.jpg"
        alt="CRMT"
        class="h-16 md:h-20 lg:h-24 transition-transform"
      />
    </div>
    <div class="logo-item">
      <img
        loading="lazy"
        src="/images/index/logo-partenaire-agora-dazibao.png"
        alt="AGORA DAZIBAO"
        class="h-16 md:h-20 lg:h-24 transition-transform"
      />
    </div>
          </div>
        </div>

        <!-- Avis de nos clients plus bas -->
        <h3 class="text-3xl md:text-4xl font-bold mb-6 drop-shadow-md">
          Avis de nos clients
        </h3>
        <div
          class="testimonials grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
        >
          <!-- Témoignage 1 -->
          <div class="testimonial bg-gray-100 p-6 rounded-lg shadow-md">
            <p class="text-gray-700 mb-4">
              "Ayant effectué 3 formations autour de la création d'entreprise, je recommande vivement KAELIA !
              Une équipe à l'écoute, bienveillante, professionnelle et avec des compétences très variées.
              Si vous recherchez une formation avec de bons intervenants, des supports pédagogiques pointus, et tout ça dans une bonne humeur, n'hésitez pas !"

            </p>
            <p class="font-bold">Jerôme Monteil <br>
              Chef d'entreprise MJ participations</p>
          </div>

          <!-- Témoignage 2 -->
          <div class="testimonial bg-gray-100 p-6 rounded-lg shadow-md">
            <p class="text-gray-700 mb-4">
              "Je remercie toute l'équipe kaelia pour les formations, tout en utilisant mon CPF. Des formations délivrées par des avocats afin d'élargir mes compétences en matière sociale et juridique.
              a très vite"
            </p>
            <p class="font-bold">Florence Rebrond<br>
              Agent general AXA</p>
          </div>

          <!-- Témoignage 3 -->
          <div class="testimonial bg-gray-100 p-6 rounded-lg shadow-md">
            <p class="text-gray-700 mb-4">
              "Merci à Kaelia ! Une excellente expérience de formation que je recommande vivement 🙂"
            </p>
            <p class="font-bold">Sophie Launay<br>
             Responssable Communication HARVEST</p>
          </div>
        </div>
        <!-- Fin de la section des témoignages -->
      </div>
    </section>
  </div>
</Layout>

<style>
  /* Animation de montée et de fondu simultanée pour tous les éléments de la section d'introduction */
  @keyframes introAnimation {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-intro {
    animation: introAnimation 1.2s ease-out forwards;
  }

  /* Animation de fade-in pour les sections */
  @keyframes sectionFadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-on-scroll {
    opacity: 0;
  }

  .animate-on-scroll.animate {
    animation: sectionFadeIn 1s ease-out forwards;
  }

  /* Style de base pour le carrousel */
  .logo-carousel {
    overflow: hidden;
    position: relative;
    width: 100%;
  }

  .logo-track {
    display: flex;
    width: max-content;
  }

  .logo-item {
    flex: 0 0 auto;
    padding: 0 1rem;
  }

  /* Suppression de la hauteur fixe des images */
  .logo-item img {
    filter: grayscale(100%);
    transition: filter 0.3s;
  }

  .logo-item:hover img {
    filter: grayscale(0%);
  }

  /* Animation de fade-in pour les éléments au scroll */
  @keyframes fadeInOnScroll {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-on-scroll {
    opacity: 0;
  }

  .animate-fade-in-on-scroll.animate {
    animation: fadeInOnScroll 1s ease-out forwards;
  }

  /* Ajout de la classe pour scroll-snap-stop */
  .snap-always {
    scroll-snap-stop: always;
  }

  .etape {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centre horizontalement tout le contenu, y compris le chiffre */
  }

  .etape-chiffre {
    display: flex;
    align-items: center; /* Centre verticalement le contenu */
    justify-content: center; /* Centre horizontalement le contenu */
    border: 2px solid white; /* Bordure blanche */
    border-radius: 50%; /* Faire un cercle */
    width: 3rem; /* Ajustez la largeur du cercle */
    height: 3rem; /* Ajustez la hauteur du cercle */
    font-size: 1.5rem; /* Taille du texte */
    color: white; /* Couleur du texte */
    box-sizing: border-box; /* Inclure la bordure dans les dimensions */
    margin-bottom: 1rem; /* Ajoute un espace entre le chiffre et le titre en dessous */
  }

  .smooth-scroll {
  overflow: hidden;
  scroll-behavior: smooth;
}

.full-page-section {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  scroll-snap-align: start;
  scroll-snap-stop: always;
}
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const trackElement = document.querySelector(
      ".logo-track"
    ) as HTMLElement | null;
    const items = document.querySelectorAll(".logo-item");

    if (!trackElement) {
      console.error("L'élément avec la classe .logo-track n'a pas été trouvé.");
      return;
    }

    const track = trackElement;

    // Cloner les éléments pour permettre un défilement infini
    function cloneItems() {
      const parent = track.parentElement;
      if (!parent) {
        console.error("Le parent de .logo-track n'a pas été trouvé.");
        return;
      }

      const carouselWidth = parent.offsetWidth;

      while (track.scrollWidth < carouselWidth * 2) {
        items.forEach((item) => {
          const clone = item.cloneNode(true);
          track.appendChild(clone);
        });
      }
    }

    cloneItems();

    let scrollPosition = 0;

    function animate() {
      scrollPosition += 1; // Vitesse de défilement
      if (scrollPosition >= track.scrollWidth / 2) {
        scrollPosition = 0;
      }
      track.style.transform = `translateX(-${scrollPosition}px)`;
      requestAnimationFrame(animate);
    }

    animate();

    // Animation au scroll pour les éléments des chiffres et les sections
    const animateOnScrollElements = document.querySelectorAll(
      ".animate-fade-in-on-scroll, .animate-on-scroll"
    );

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animate"); // Ajoute la classe pour déclencher l'animation
          }
        });
      },
      { threshold: 0.1 }
    );

    animateOnScrollElements.forEach((element) => {
      observer.observe(element);
    });
  });
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.querySelector("header");
    const mainContainer = document.getElementById("main-container");

    if (header && mainContainer) {
      const headerHeight = (header as HTMLElement).offsetHeight;
      const sections = mainContainer.querySelectorAll(".full-page-section");

      sections.forEach((sec, index) => {
        const section = sec as HTMLElement;
        if (index < sections.length - 1) {
          section.style.height = `calc(100vh - ${headerHeight}px)`;
          section.classList.add("snap-start");
        } else {
          section.style.minHeight = `calc(100vh - ${headerHeight}px)`;
        }
      });
    }
  });
  import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

// Enregistrer le plugin GSAP ScrollTrigger
gsap.registerPlugin(ScrollTrigger);

// Animation au chargement de la page
document.addEventListener("DOMContentLoaded", () => {
  const sections = gsap.utils.toArray<HTMLElement>(".full-page-section");

  sections.forEach((section, i) => {
    gsap.fromTo(
      section,
      { opacity: 0, y: 50 },
      {
        opacity: 1,
        y: 0,
        duration: 1,
        delay: i * 0.2,
        scrollTrigger: {
          trigger: section,
          start: "top 75%",
          end: "bottom center",
          toggleActions: "play none none reverse",
        },
      }
    );
  });
});


gsap.registerPlugin(ScrollTrigger);

const sections = gsap.utils.toArray<HTMLElement>(".full-page-section");

// On initialise l'opacité de toutes les sections sauf la première à 0
sections.forEach((section, i) => {
  if (i !== 0) {
    gsap.set(section, { opacity: 0 });
  }
});

// Pour chaque section (sauf la première), on crée un ScrollTrigger
// qui va faire apparaître progressivement la nouvelle section au scroll.
// En même temps, on fera disparaître l'ancienne section, créant un fondu enchaîné.
sections.forEach((section, i) => {
  if (i === 0) return; // La première section est déjà visible

  const prevSection = sections[i - 1];

  ScrollTrigger.create({
    trigger: section,
    start: "top 90%", // Ajustez le point de déclenchement selon votre mise en page
    end: "top 50%",
    scrub: true,
    onUpdate: (self: ScrollTrigger) => {
      const progress = self.progress;

      // progress varie entre 0 et 1 au fur et à mesure que la section entre dans la vue
      // On fait apparaître la nouvelle section (section) au fur et à mesure :
      gsap.to(section, { opacity: progress, duration: 0.1, overwrite: true });

      // On fait disparaître l'ancienne section (prevSection) dans le même temps :
      gsap.to(prevSection, { opacity: 1 - progress, duration: 0.1, overwrite: true });
    }
  });
});

</script>
